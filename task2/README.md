# Асинхронный и многопоточный серверы для подсчёта строк в файлах + нагрузочное тестирование

Этот проект содержит два варианта серверов на Python:

-   **Асинхронный сервер** (asyncio + aiofiles)
-   **Многопоточный сервер** (ThreadPoolExecutor)

А также **клиент для нагрузочного тестирования**, который отправляет N
параллельных запросов к каждому серверу и замеряет:

-   время обработки;
-   использование памяти;
-   стабильность при высокой нагрузке.

Серверы принимают имя файла и возвращают количество строк в нём.\
Файлы должны находиться в директории **`test_files/`**.

## Возможности

-   Асинхронная обработка запросов (до 1000+ одновременно)
-   Многопоточная обработка с настраиваемым пулом потоков
-   Клиентский тест нагрузки (async + threaded)
-   Замер времени выполнения
-   Замер потребления памяти (psutil)
-   Сравнение производительности асинхронного и многопоточного подходов
-   Оценка минимального объёма памяти для стабильной работы под
    нагрузкой

## Структура проекта

    .
    ├── async_server.py
    ├── thread_server.py
    ├── client.py
    ├── generate_files.py
    └── README.md

## Установка и запуск

### 1. Установите зависимости:

    pip install aiofiles psutil

## Запуск серверов

### Асинхронный сервер

    python async_server.py

### Многопоточный сервер

    python thread_server.py

## Запуск нагрузочного теста

    python client.py

## Минимальная память для 1000 запросов

-   AsyncIO --- \~150 МБ
-   Threads --- \~2--2.5 ГБ
